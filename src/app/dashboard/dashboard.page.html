<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="font-family: 'Titillium-sb'"> Home </ion-title>
    <ion-button routerLink='/dashboard' routerDirection = 'root' slot="end">
      <ion-icon slot="icon-only" name="home"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh) = "refreshAll($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
    
  <form [formGroup]="myform">
    <ion-searchbar
      placeholder="Search"
      debounce="500"
      animated
      showCancelButton="focus"
      formControlName="searchControl"
      placeholder =  "Connected with  {{ connections?.length }} members"
    >
    </ion-searchbar>    
  </form>

  <!-- 
  <ion-card class="card list" *ngFor="let connection of connections">
     
    <ion-card-header color="primary">
      <ion-row>
        <ion-col>
            <ion-avatar item-start>
                <img [src]="connection?.picture" />
              </ion-avatar>
        </ion-col>
      
        <ion-col>
            <h4> {{ connection?.name }} </h4>
             Last seen: {{ connection?.lastSeenOn }} 
        </ion-col>
      </ion-row>      
    </ion-card-header>

    <ion-card-content style="background-color:cornflowerblue; color: white">
      
        Wait a minute. Wait a minute, Doc. Uhhh... Are you telling me that you            
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>12 Likes</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="text"></ion-icon>
          <div>4 Comments</div>
        </button>
      </ion-col>
      <ion-col align-self-center text-center>
        <ion-note>
          11h ago
        </ion-note> 
      </ion-col>
    </ion-row>
  </ion-card> -->

  

  
  <ion-list>
    <ion-item *ngFor="let connection of filteredConnections">
      <ion-avatar slot="start">
        <img [src]="connection?.picture" />
      </ion-avatar>
      <ion-label class="ion-text-wrap" (click) = "itemClick(connection)">
        <h4>{{ connection?.name }}</h4>
        <p>{{ connection?.lastSeenOn | date: "yyyy-MM-dd hh:mm" }}</p>
        <p>{{ connection?.locationDesc }}</p>
        <!-- <p> 
            <ion-button color="secondary" (click)="alerts();">
                <ion-icon slot="start" name="add"></ion-icon>
                Alert
            </ion-button>
            <ion-button color="secondary">
                <ion-icon slot="start" name="add"></ion-icon>
                Alert
            </ion-button>
        </p> -->
      </ion-label>

      <ion-note class="ion-text-end">
        <p class="distance">{{ connection?.distance }}</p>
        <ion-button clear (click)="mapView(connection?.location.latitude, connection?.location?.longitude); event.preventDefault();">Map</ion-button> <br />        
        <ion-button color="light">
            <ion-icon slot="start" name="alert"></ion-icon>
            10
        </ion-button>
      </ion-note>
    </ion-item>
  </ion-list>
 
    
  <!-- <mat-card class="card-container"
  *ngFor = "let connection of connections">
      <mat-card-header style="background-color:whitesmoke;">
        
        <img mat-card-avatar class="header-image" [src] = "connection?.picture" alt="connection?.name" style="min-height: 55px;min-width:55px" />
        <mat-card-title class="card-container-left" style="font-family: 'TitilliumWeb';"> {{ connection?.name }}</mat-card-title>
        <mat-card-title class="card-container-right" style="font-family: 'TitilliumWeb';"> {{ connection?.distance }}</mat-card-title>
        
        <mat-card-subtitle> Last seen: {{ connection?.lastSeenOn }}</mat-card-subtitle>
       
      </mat-card-header>
      <mat-card-content>
        <p style="font-family: 'TitilliumWeb'; font-size: 16px;">
          {{ connection?.locationDesc }}
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary">LIKE</button>
        <button mat-button>SHARE</button>
      </mat-card-actions>
    </mat-card> -->
</ion-content>
